(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{416:function(t,s,a){"use strict";a.r(s);var v=a(17),_=Object(v.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"pidstat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pidstat"}},[t._v("#")]),t._v(" pidstat")]),t._v(" "),s("p",[t._v("pidstat是一个常用的进程性能分析工具，用来实时查看进程的CPU、内存、I/O以及上下文切换等性能指标。它是sysstat工具的一个命令。"),s("br"),t._v("\npidstat首次运行时显示自系统启动开始的各项统计信息，之后运行pidstat将显示自上次运行该命令以后的统计信息。可以通过指定统计的次数和时间来获得所需的统计信息。")]),t._v(" "),s("h2",{attrs:{id:"安装命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装命令"}},[t._v("#")]),t._v(" 安装命令")]),t._v(" "),s("ol",[s("li",[t._v("Debian/Ubuntu系统安装： apt-get install sysstat")]),t._v(" "),s("li",[t._v("CentOS/Fedora/RHEL系统安装： yum install sysstat")])]),t._v(" "),s("h2",{attrs:{id:"用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),s("div",{staticClass:"language-linux extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Usage: pidstat [ options ] [ <interval> [ <count> ] ]\nOptions are:\n[ -d ] [ -h ] [ -I ] [ -l ] [ -r ] [ -s ] [ -t ] [ -U [ <username> ] ] [ -u ]\n[ -V ] [ -v ] [ -w ] [ -C <command> ] [ -p { <pid> [,...] | SELF | ALL } ]\n[ -T { TASK | CHILD | ALL } ]\n")])])]),s("h2",{attrs:{id:"常用参数说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用参数说明"}},[t._v("#")]),t._v(" 常用参数说明")]),t._v(" "),s("ul",[s("li",[t._v("-u: 默认参数，显示各个进程的cpu使用统计")]),t._v(" "),s("li",[t._v("-r: 显示各个进程的内存使用统计")]),t._v(" "),s("li",[t._v("-d: 显示各个进程的IO使用情况")]),t._v(" "),s("li",[t._v("-p: 指定进程id")]),t._v(" "),s("li",[t._v("-w: 显示每个进程的上下文切换情况")]),t._v(" "),s("li",[t._v("-V: 显示版本号")]),t._v(" "),s("li",[t._v("-l: 显示命令名和所有参数")]),t._v(" "),s("li",[t._v("-t: 同时显示线程的统计信息")]),t._v(" "),s("li",[t._v("-T {TASK | CHILD | ALL}: 这个选项指定了pidstat必须监控的内容，TASK是默认的，单个任务的报告。 CHILD指定了进程和子进程的全局报告。ALL相当于TASK加CHILD。"),s("br"),t._v("\n注意：TASK和CHILD的全局统计信息和pidstat选项无关。这些统计信息不会对应到当前的统计间隔里，这些统计信息只有在子线程kill或者完成的时候才会被收集。")])]),t._v(" "),s("h2",{attrs:{id:"使用示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用示例"}},[t._v("#")]),t._v(" 使用示例")]),t._v(" "),s("ol",[s("li",[s("div",{staticClass:"language-linux extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("pidstat -u -p ALL\n")])])]),s("p",[s("img",{attrs:{src:"/imgs/commonCmds/pidstat1.PNG",alt:"pidstat1命令显示内容"}})]),t._v(" "),s("p",[t._v("说明：")]),t._v(" "),s("ul",[s("li",[t._v("PID: 进程ID")]),t._v(" "),s("li",[t._v("%usr: 进程在用户空间占用cpu的百分比")]),t._v(" "),s("li",[t._v("%system: 进程在内核空间占用cpu的百分比")]),t._v(" "),s("li",[t._v("%guest：进程在虚拟机占用cpu的百分比")]),t._v(" "),s("li",[t._v("%CPU：进程占用cpu的百分比")]),t._v(" "),s("li",[t._v("CPU：处理进程的cpu编号")]),t._v(" "),s("li",[t._v("Command：当前进程对应的命令")])])]),t._v(" "),s("li",[s("div",{staticClass:"language-linux extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("pidstat -r -p 1649 1 4\n")])])]),s("p",[s("img",{attrs:{src:"/imgs/commonCmds/pidstat2.PNG",alt:"pidstat2命令显示内容"}})]),t._v(" "),s("p",[t._v("说明："),s("br"),t._v("\n进程号为1649的进程，4秒内的内存使用情况，每秒展示一次，展示4次！")]),t._v(" "),s("ul",[s("li",[t._v("PID: 进程ID")]),t._v(" "),s("li",[t._v("minflt/s：任务每秒发生的次要错误，不需要从磁盘中加载页")]),t._v(" "),s("li",[t._v("majflt/s：任务每秒发生的主要错误，需要从磁盘中加载页")]),t._v(" "),s("li",[t._v("VSZ： 虚拟地址大小，虚拟内存的使用情况，单位(KB)")]),t._v(" "),s("li",[t._v("RSS: 常驻内存大小，非交换区内存使用情况，单位(KB)")]),t._v(" "),s("li",[t._v("%MEM：RSS占总内存的百分比")]),t._v(" "),s("li",[t._v("Command: 当前进程对应的命令")])])]),t._v(" "),s("li",[s("div",{staticClass:"language-linux extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("pidstat -d\n")])])]),s("p",[s("img",{attrs:{src:"/imgs/commonCmds/pidstat3.PNG",alt:"pidstat3命令显示内容"}})]),t._v(" "),s("p",[t._v("说明：")]),t._v(" "),s("ul",[s("li",[t._v("PID: 进程ID")]),t._v(" "),s("li",[t._v("kB_rd/s：每秒从磁盘读取的数据大小，单位(KB)")]),t._v(" "),s("li",[t._v("kB_wr/s：每秒写入磁盘的数据大小，单位(KB)")]),t._v(" "),s("li",[t._v("kB_ccwr/s: 任务取消写入磁盘的数据大小，单位(KB)。当任务截断脏pagecache的时候会发生。")]),t._v(" "),s("li",[t._v("Command: 当前进程对应的命令")])])]),t._v(" "),s("li",[s("div",{staticClass:"language-linux extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("pidstat -w\n")])])]),s("p",[s("img",{attrs:{src:"/imgs/commonCmds/pidstat4.PNG",alt:"pidstat4命令显示内容"}})]),t._v(" "),s("p",[t._v("说明：")]),t._v(" "),s("ul",[s("li",[t._v("PID: 进程ID")]),t._v(" "),s("li",[t._v("cswch/s：每秒主动任务上下文切换数量")]),t._v(" "),s("li",[t._v("nvcswch/s：每秒被动任务上下文切换数量")]),t._v(" "),s("li",[t._v("Command: 当前进程对应的命令")])])]),t._v(" "),s("li",[s("div",{staticClass:"language-linux extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("pidstat -p 1649 -t\n")])])]),s("p",[s("img",{attrs:{src:"/imgs/commonCmds/pidstat5.PNG",alt:"pidstat5命令显示内容"}})]),t._v(" "),s("p",[t._v("说明：")]),t._v(" "),s("ul",[s("li",[t._v("TGID: 表示主进程，显示的是主进程ID")]),t._v(" "),s("li",[t._v("TID: 显示子进程ID")]),t._v(" "),s("li",[t._v("%usr：进程在用户空间占用cpu的百分比")]),t._v(" "),s("li",[t._v("%system：进程在内核空间占用cpu的百分比")]),t._v(" "),s("li",[t._v("%guest：进程在虚拟机占用cpu的百分比")]),t._v(" "),s("li",[t._v("%CPU：进程占用cpu的百分比")]),t._v(" "),s("li",[t._v("CPU: 处理进程的cpu编号")]),t._v(" "),s("li",[t._v("Command: 当前进程对应的命令")])])])])])}),[],!1,null,null,null);s.default=_.exports}}]);