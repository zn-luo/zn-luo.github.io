(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{360:function(t,n,e){"use strict";e.r(n);var o=e(17),i=Object(o.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"物品-thing-策略变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#物品-thing-策略变量"}},[t._v("#")]),t._v(" 物品(Thing)策略变量")]),t._v(" "),n("p",[t._v("物品(thing)策略变量允许您编写AWS IoT Core策略，该策略根据物品属性(如物品名称、物品类型和物品属性值)授予或拒绝权限。您可以使用thing策略变量来应用相同的策略来控制多个AWS IoT Core设备。有关device provisioning的详细信息，查看"),n("a",{attrs:{href:"https://docs.aws.amazon.com/iot/latest/developerguide/iot-provision.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Device Provisioning"),n("OutboundLink")],1),t._v("。物品名称从物品连接到AWS IoT Core时发送的MQTT Connect消息中的客户端ID获得。")]),t._v(" "),n("p",[t._v("在AWS IoT Core 策略中使用thing策略变量时，需要记住以下几点。")]),t._v(" "),n("ul",[n("li",[t._v("使用"),n("a",{attrs:{href:"https://docs.aws.amazon.com/iot/latest/apireference/API_AttachThingPrincipal.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("AttachThingPrincipal"),n("OutboundLink")],1),t._v(" API将证书或 principals(经过身份验证的Amazon Cognito身份)附加到一个物品上。")]),t._v(" "),n("li",[t._v("当您用物品策略变量替换物品名称时，MQTT连接消息或TLS连接中的clientId值必须与物品名称完全匹配。")])]),t._v(" "),n("p",[t._v("下面的物品策略变量是可用的：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("iot:Connection.Thing.ThingName"),n("br"),t._v("\n此变量将解析为AWS IoT Core注册表中正在为其评估策略的对象的名称。AWS IoT Core使用设备在进行身份验证时提供的证书，以确定使用哪种东西来验证连接。此策略变量仅在设备通过MQTT或MQTT基于WebSocket协议连接时可用。")])]),t._v(" "),n("li",[n("p",[t._v("iot:Connection.Thing.ThingTypeName")])]),t._v(" "),n("li",[n("p",[t._v("iot:Connection.Thing.Attributes[attributeName]")])]),t._v(" "),n("li",[n("p",[t._v("iot:Connection.Thing.IsAttached")])])])])}),[],!1,null,null,null);n.default=i.exports}}]);